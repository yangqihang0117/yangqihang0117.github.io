<!DOCTYPE html>
<html
  dir="ltr"
  lang="zh-cn"
  data-theme=""
  
    class="html theme--light"
  
><head>
  <title>
    
      
        [多线程设计模式]Producer-Consumer(生产者/消费者)模式 |
      Yxx

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.109.0"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Yxx" />
  <meta
    name="description"
    content="Stay Hungry,Stay Foolish"
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.5794be192d21535bdd301561e043a96b6adbad2b5c08279deff459e4661c613f.css"
      integrity="sha256-V5S&#43;GS0hU1vdMBVh4EOpa2rbrStcCCed7/RZ5GYcYT8="
      crossorigin="anonymous"
      type="text/css"
    />
  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css"
    integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css"
    integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css"
    integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css"
    integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css"
    integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />

  <link rel="canonical" href="https://yangqihang0117.github.io/archive/multi-thread-patterns-producer-consumer/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.d6d329d93844b162e8bed1e915619625ca91687952177552b9b3e211014a2957.js"
      integrity="sha256-1tMp2ThEsWLovtHpFWGWJcqRaHlSF3VSubPiEQFKKVc="
      crossorigin="anonymous"
    ></script>
  

  


  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[多线程设计模式]Producer-Consumer(生产者/消费者)模式"/>
<meta name="twitter:description" content="  Producer-Consumer模式可以看成设计模式的设计模式。很多的多线程设计模式都可以看作Producer-Consumer模式的一个实例。"/>



  
  <meta property="og:title" content="[多线程设计模式]Producer-Consumer(生产者/消费者)模式" />
<meta property="og:description" content="  Producer-Consumer模式可以看成设计模式的设计模式。很多的多线程设计模式都可以看作Producer-Consumer模式的一个实例。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yangqihang0117.github.io/archive/multi-thread-patterns-producer-consumer/" /><meta property="article:section" content="archive" />
<meta property="article:published_time" content="2019-11-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-11-30T00:00:00+00:00" /><meta property="og:site_name" content="Yxx&#39;s Study Notes" />





  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "archive",
        "name": "[多线程设计模式]Producer-Consumer(生产者\/消费者)模式",
        "headline": "[多线程设计模式]Producer-Consumer(生产者\/消费者)模式",
        "alternativeHeadline": "",
        "description": "
      
        \u003cp\u003e  \u003cstrong\u003eProducer-Consumer模式\u003c\/strong\u003e可以看成设计模式的设计模式。很多的多线程设计模式都可以看作\u003cstrong\u003eProducer-Consumer模式\u003c\/strong\u003e的一个实例。\u003c\/p\u003e


      


    ",
        "inLanguage": "zh-cn",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/yangqihang0117.github.io\/archive\/multi-thread-patterns-producer-consumer\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Yxx"
        },
        "creator" : {
            "@type": "Person",
            "name": "Yxx"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Yxx"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Yxx"
        },
        "copyrightYear" : "2019",
        "dateCreated": "2019-11-30T00:00:00.00Z",
        "datePublished": "2019-11-30T00:00:00.00Z",
        "dateModified": "2019-11-30T00:00:00.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Yxx",
            "url": "https://yangqihang0117.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/yangqihang0117.github.io\/favicons\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "https:\/\/yangqihang0117.github.io\/archive\/multi-thread-patterns-producer-consumer\/",
        "wordCount" : "3018",
        "genre" : [ ],
        "keywords" : [ 
      
      "Java"

    
      
        ,

      
      "多线程"

    
      
        ,

      
      "多线程设计模式"

    ]
    }
  </script>


</head>
<body class="body">
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"
        
      ><div
  class="sidebar
    animated fadeInDown
  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/logo.jpeg"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/">Yxx&#39;s Study Notes</a>
        </div>
      
      <div class="sidebar__introduction-description">
        <p>Stay Hungry,Stay Foolish</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://github.com/yangqihang0117"
            target="_blank"
            rel="noopener me"
            aria-label="GitHub"
            title="GitHub"
          >
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="mailto:yangqihang@petalmail.com"
            target="_blank"
            rel="noopener me"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        2019-2023 Powered by Hugo &amp; Anatole
      
    </li>
    
      <li class="footer__item">
        <a
          class="link"
          href="/index.xml"
          
          title=""
        >
          Feed
        </a>
      </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script></div>
</aside>
      <main
        
          class="wrapper__main"
        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/series/"
              
              title=""
              >Series</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/tags/"
              
              title=""
              >Tags</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/archive/"
              
              title=""
              >Archive</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/about/"
              
              title=""
              >About</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>
      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown
    "
  >
    
    <div class="post__content">
      <h1>[多线程设计模式]Producer-Consumer(生产者/消费者)模式</h1>
      <p>  <strong>Producer-Consumer模式</strong>可以看成设计模式的设计模式。很多的多线程设计模式都可以看作<strong>Producer-Consumer模式</strong>的一个实例。</p>
<p>  数据的提供方可形象地称为数据的生产者，它&quot;生产&quot;了数据，而数据的加工方则相应地称为&quot;消费者&quot;，它&quot;消费&quot;了数据。实际上，生产者&quot;生产&quot;数据的速率和消费者&quot;消费&quot;数据的速率往往是不均衡的，比如数据的&quot;生产&quot;要比其&quot;消费&quot;快。为避免数据的生产者与消费者中处理速率快的一方需要等待处理速率慢的一方，<strong>Producer-Consumer模式</strong>通过数据的生产者和消费者之间引入一个通道(Channel，暂时可以将其简单地理解为一个队列)对二者进行解耦(Decoupling)：生产者将其&quot;生产&quot;的数据放入通道，消费者从相应通道中取出数据进行&quot;消费&quot;(处理)，生产者和消费者各自进行在各自的线程中，从而使双方处理速率互不影响。</p>
<h2 id="模式架构">模式架构</h2>
<p><img src="https://p.ipic.vip/d2xdni.png" alt=""></p>
<p>  <strong>Producer-Consumer模式</strong>的核心是，通过管道对数据(或任务)的生产者和消费者进行解耦，使二者不直接进行交互，从而使二者的处理速率相对来说互不影响。</p>
<p>  <strong>Producer-Consumer模式</strong>的主要参与者有以下几种。</p>
<ul>
<li><strong>Producer</strong>：生产者，负责生成相应的&quot;产品&quot;并将其存入通道，其主要职责如下。
<ul>
<li>service：生产者对外暴露的服务方法</li>
</ul>
</li>
<li><strong>Product</strong>：生产者所&quot;生产&quot;的数据或者任务，其具体类型由应用决定。</li>
<li><strong>Channel</strong>：对通道的抽象。通道充当生产者和消费者之间的缓冲区，用于&quot;产品&quot;的传递，它可以是有存储容量限制的。其类型参数<strong>P</strong>相当于&quot;产品&quot;的类型，其主要职责如下。
<ul>
<li>put：将&quot;产品&quot;存入通道。</li>
<li>take：从通道中取出一个产品。</li>
</ul>
</li>
<li><strong>Consumer</strong>：消费者，负责对&quot;产品&quot;进行处理，其主要职责如下。
<ul>
<li>dispatch：从管道中获取&quot;产品&quot;，并对其进行处理。</li>
</ul>
</li>
</ul>
<h3 id="产品生产序列">&ldquo;产品&quot;生产序列</h3>
<p><img src="https://p.ipic.vip/yxljxi.png" alt=""></p>
<ul>
<li><strong>第1步</strong>：客户端代码调用<em>Producer</em>的service方法。</li>
<li><strong>第2～4步</strong>：<em>service</em>方法生成相应的&quot;产品&rdquo;，并调用<em>Channel</em>参与者实例的<em>put</em>方法将&quot;产品&quot;存入通道。</li>
<li><strong>第5步</strong>：<em>service</em>方法返回。</li>
</ul>
<h3 id="产品消费序列">&ldquo;产品&quot;消费序列</h3>
<p><img src="https://p.ipic.vip/m24f98.png" alt=""></p>
<ul>
<li><strong>第1步</strong>：<em>Consumer</em>参与者实例的工作者线程开始运行，其<em>dispatch</em>方法被调用。<em>dispatch</em>方法会重复执行第2～4步。</li>
<li><strong>第2～4步</strong>：<em>dispatch</em>方法调用<em>Channel</em>参与者实例的<em>take</em>方法，取出一个&quot;产品&rdquo;，并对其进行相应的处理。</li>
</ul>
<h2 id="需要注意的问题">需要注意的问题</h2>
<h3 id="产品的粒度">产品的粒度</h3>
<p>  <strong>Producer-Consumer模式</strong>中，一般我们用一个对象来表示一个&quot;产品&quot;(对应于<em>Producer</em>参与者)。至于究竟选取什么对象(类型)来表示&quot;产品&quot;，那就涉及对象的粒度问题了。一旦选定一个对象(类型)来表示&quot;产品&quot;，那么该对象的粒度就被称为&quot;产品的粒度&quot;。</p>
<p>  &ldquo;产品&rdquo;(对象)由生产者通过传输通道传递给消费者的过程可以看作数据移动的过程。这种数据移动若过于频繁则会增加线程上下文切换的可能性，从而降低处理器资源的利用率。显然，在生产者所生产的&quot;产品&quot;总数量固定的情况下，产品的粒度越大，这种数据移动的总次数越少，相应的线程上下文切换的可能性也越小。因此，如果有必要的话，我们可以通过适当增大&quot;产品&quot;的粒度来降低对象传输通道上传递的开销。具体做法通常是，将生产者所创建的一批对象(可理解为组成产品的部件)组装成一个&quot;产品&quot;后，将其存入传输通道。</p>
<p>  需要注意的是，&ldquo;产品&quot;的粒度并非越大越好，这是由于&quot;产品&quot;驻留在传输管道中等待被&quot;消费&quot;的过程占用的内存等资源无法被回收，因此&quot;产品&quot;的粒度越大意味着这些&quot;产品&quot;驻留期间所占用的资源越多。所以，产品的粒度具体设置为多大要通过实际的测量来决定。</p>
<h3 id="通道积压">通道积压</h3>
<p>  <strong>Producer-Consumer模式</strong>中，消费者的处理能力往往弱于生产者的处理能力。此情形下随着时间的推移，通道中存储的&quot;产品&quot;会越来越多，从而出现积压，这好比工厂的生产能力比较强，但是其生产的&quot;产品&quot;的销售情况却不容乐观，出现仓库积压的情况。为了更好地平衡生产者与消费者的处理能力，需要对消费者处理过慢点情绪进行一定的处理。</p>
<ul>
<li>使用有界阻塞队列。使用有界阻塞队列(如<strong>ArrayBlockingQueue</strong>和带容量限制的<strong>LinkedBlockingQueue</strong>)作为<em>Channel</em>参与者的实现，可以实现将消费者处理压力反弹给生产者的效果，从而在消费者处理负荷过大时使相应的生产者处理能力也下降一定程度，以达到平衡二者处理能力的目的。当消费者处理能力弱于生产者处理能力时，作为通道的有界阻塞队列会逐渐积压，知道队列满，此时生产者线程会被阻塞，知道相应的消费者&quot;消费&quot;了队列中的一些产品，使得队列非满，也就是出现生产者的步伐等待消费者的步伐的场景。</li>
<li>对无界队列添加流量控制。使用无界阻塞队列(如不带容量限制的<strong>LinkedBlockingQueue</strong>)作为<em>Channel</em>参与者的实现，也可以实现平衡生产者和消费者的处理能力。这通常是借助流量控制实现的，即对同一时间内可以有多少个生产者线程往通道中存储&quot;产品&quot;进行限制，从而达到平衡生产者和消费者处理能力的目的。</li>
</ul>
<p><strong>基于Semaphore的支持流量控制管道实现</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SemaphoreBasedChannel</span><span class="o">&lt;</span><span class="n">P</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">Channel</span><span class="o">&lt;</span><span class="n">P</span><span class="o">&gt;{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="kd">final</span> <span class="n">BlockingQueue</span><span class="o">&lt;</span><span class="n">P</span><span class="o">&gt;</span> <span class="n">queue</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="kd">final</span> <span class="n">Semaphore</span> <span class="n">semaphore</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="nf">SemaphoreBasedChannel</span><span class="o">(</span><span class="n">Integer</span> <span class="n">flowLimit</span><span class="o">){</span>
</span></span><span class="line"><span class="cl">		<span class="k">this</span><span class="o">.</span><span class="na">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedBlockingQueue</span><span class="o">&lt;</span><span class="n">P</span><span class="o">&gt;();</span>
</span></span><span class="line"><span class="cl">		<span class="k">this</span><span class="o">.</span><span class="na">semaphore</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Semaphore</span><span class="o">(</span><span class="n">flowLimit</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">P</span> <span class="nf">take</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">InterruptedException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">queue</span><span class="o">.</span><span class="na">take</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nd">@Override</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">put</span><span class="o">(</span><span class="n">P</span> <span class="n">product</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InterruptedException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">this</span><span class="o">.</span><span class="na">semaphore</span><span class="o">.</span><span class="na">acquire</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">		<span class="k">try</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">this</span><span class="o">.</span><span class="na">queue</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">product</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">		<span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">this</span><span class="o">.</span><span class="na">semaphore</span><span class="o">.</span><span class="na">release</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">		<span class="o">}</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><h3 id="线程的停止">线程的停止</h3>
<p>  一个具体的<strong>Producer-Consumer模式</strong>实现通常可以看作一个服务。如果该服务中的<em>Producer</em>参与者实例也有其工作者线程，那么该服务的停止就涉及<em>Producer</em>参与者和<em>Consumer</em>参与者的两种工作线程的停止。此时，我们需要注意这两种工作者线程的停止顺序：如果先停止<em>Consumer</em>工作线程，则会导致<em>Producer</em>参与者新&quot;生产&quot;的&quot;产品&quot;无法被处理；如果先停止<em>Producer</em>工作线程，则会导致<em>Producer</em>参与者新&quot;生产&quot;的&quot;产品&quot;无法被处理；如果先停止<em>Producer</em>的工作线程，又可能使<em>Consumer</em>的工作线程处于空等待。而且，停止<em>Consumer</em>工作线程前是否考虑要等待其处理完所有待处理的&quot;产品&quot;或者将这些&quot;产品&quot;做备份也是一个问题。我们可以借助<a href="../multi-thread-patterns-two-phase-termination">Two-phase Termination 模式</a>先停止<em>Producer</em>工作线程。在某个服务的所有<em>Producer</em>工作线程都停止后，在停止服务涉及的<em>Consumer</em>工作线程。</p>


<h3>这个系列的帖子</h3>
<ul>
  
    <li><a href="/archive/multi-thread-patterns-pipeline/">[多线程设计模式]Pipeline(流水线)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-master-slave/">[多线程设计模式]Master-Slave(主仆)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-thread-specific-storage/">[多线程设计模式]Thread Specific Storage(线程特有存储)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-thread-pool/">[多线程设计模式]Thread Pool(线程池)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-active-object/">[多线程设计模式]Active Object(主动对象)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-producer-consumer/">[多线程设计模式]Producer-Consumer(生产者/消费者)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-promise/">[多线程设计模式]Promise(承诺)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-two-phase-termination/">[多线程设计模式]Two-Phase Termination(两阶段终止)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-guarded-suspension/">[多线程设计模式]Guarded Suspension(保护性暂挂)模式</a></li>
  
    <li><a href="/archive/multi-thread-patterns-immutable-object/">[多线程设计模式]Immutable Object(不可变对象)模式</a></li>
  
</ul>
</div>
    <div class="post__footer">
      

      
        <span><a class="tag" href="/tags/java/">Java</a><a class="tag" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a><a class="tag" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">多线程设计模式</a></span>


      
    </div>

    
  </div>

      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        2019-2023 Powered by Hugo &amp; Anatole
      
    </li>
    
      <li class="footer__item">
        <a
          class="link"
          href="/index.xml"
          
          title=""
        >
          Feed
        </a>
      </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css" integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous" /><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH" crossorigin="anonymous"></script><script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
      integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);"
    ></script></body>
</html>
